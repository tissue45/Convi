<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¥ë°”êµ¬ë‹ˆ - ì™€ì´ì–´í”„ë ˆì„</title>
    <link rel="stylesheet" href="../styles/wireframe.css">
    <link rel="stylesheet" href="../styles/responsive.css">
    <style>
        .cart-header {
            background: white;
            border-bottom: 1px solid #dee2e6;
            padding: 16px;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .cart-item {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 16px;
            margin: 0 16px 12px;
            display: flex;
            gap: 12px;
        }
        
        .item-image {
            width: 80px;
            height: 80px;
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            font-size: 12px;
            color: #6c757d;
        }
        
        .item-details {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }
        
        .item-name {
            font-size: 14px;
            font-weight: bold;
            color: #212529;
            line-height: 1.3;
        }
        
        .item-delete {
            background: none;
            border: none;
            color: #6c757d;
            font-size: 18px;
            cursor: pointer;
            padding: 4px;
        }
        
        .item-price-info {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }
        
        .item-price {
            font-size: 16px;
            font-weight: bold;
            color: #dc3545;
        }
        
        .item-original-price {
            font-size: 12px;
            color: #6c757d;
            text-decoration: line-through;
        }
        
        .item-badge {
            background: #e3f2fd;
            color: #1976d2;
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
        }
        
        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .quantity-selector {
            display: flex;
            align-items: center;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .quantity-btn {
            background: white;
            border: none;
            padding: 8px 12px;
            cursor: pointer;
            color: #495057;
            font-size: 16px;
            line-height: 1;
        }
        
        .quantity-btn:hover {
            background: #f8f9fa;
        }
        
        .quantity-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .quantity-input {
            border: none;
            width: 40px;
            text-align: center;
            padding: 8px 4px;
            font-size: 14px;
            color: #495057;
        }
        
        .item-total {
            font-size: 14px;
            font-weight: bold;
            color: #495057;
        }
        
        .empty-cart {
            text-align: center;
            padding: 60px 20px;
            color: #6c757d;
        }
        
        .empty-cart-icon {
            font-size: 64px;
            margin-bottom: 16px;
            opacity: 0.5;
        }
        
        .store-section {
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
            padding: 12px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .store-info {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .cart-summary {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            margin: 16px;
            padding: 20px;
        }
        
        .summary-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            font-size: 14px;
        }
        
        .summary-row.total {
            font-size: 16px;
            font-weight: bold;
            color: #212529;
            padding-top: 12px;
            border-top: 1px solid #dee2e6;
        }
        
        .checkout-section {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid #dee2e6;
            padding: 16px;
        }
        
        .checkout-button {
            width: 100%;
            background: #007bff;
            color: white;
            border: none;
            padding: 16px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .checkout-button:disabled {
            background: #6c757d;
            cursor: not-allowed;
        }
        
        .content-wrapper {
            padding-bottom: 80px;
        }
        
        .pickup-options {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            margin: 16px;
            padding: 16px;
        }
        
        .pickup-option {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .pickup-option:hover,
        .pickup-option.selected {
            border-color: #007bff;
            background: #f8f9ff;
        }
        
        .pickup-option input[type="radio"] {
            margin: 0;
        }
    </style>
</head>
<body style="background: #f8f9fa;">
    <!-- í—¤ë” -->
    <div class="cart-header">
        <div style="display: flex; align-items: center; justify-content: space-between;">
            <div style="display: flex; align-items: center;">
                <button onclick="history.back()" style="background: none; border: none; font-size: 20px; cursor: pointer; margin-right: 12px;">â†</button>
                <h1 style="font-size: 18px; font-weight: bold; color: #212529; margin: 0;">ì¥ë°”êµ¬ë‹ˆ</h1>
            </div>
            <button class="wireframe-button" style="font-size: 12px; padding: 6px 12px;" onclick="clearCart()">ì „ì²´ì‚­ì œ</button>
        </div>
    </div>

    <div class="content-wrapper">
        <!-- ë§¤ì¥ ì •ë³´ -->
        <div class="store-section">
            <div class="store-info">
                <div style="font-size: 16px;">ğŸ“</div>
                <div>
                    <div style="font-size: 14px; font-weight: bold; color: #495057;">GS25 ê°•ë‚¨ì </div>
                    <div style="font-size: 12px; color: #6c757d;">ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ ê°•ë‚¨ëŒ€ë¡œ 123</div>
                </div>
            </div>
            <button class="wireframe-button" style="font-size: 12px; padding: 6px 12px;">ë§¤ì¥ë³€ê²½</button>
        </div>

        <!-- ì¥ë°”êµ¬ë‹ˆ ì•„ì´í…œë“¤ -->
        <div id="cart-items">
            <!-- í–‰ì‚¬ìƒí’ˆ -->
            <div class="cart-item">
                <div class="item-image">ğŸ“¦ ì´ë¯¸ì§€</div>
                <div class="item-details">
                    <div class="item-header">
                        <div class="item-name">ë†ì‹¬ ìœ¡ê°œì¥ì‚¬ë°œë©´ 86g</div>
                        <button class="item-delete" onclick="removeItem(this)">Ã—</button>
                    </div>
                    <div class="item-price-info">
                        <span class="item-price">1,500ì›</span>
                        <span class="item-original-price">3,000ì›</span>
                        <span class="item-badge">1+1</span>
                    </div>
                    <div class="quantity-controls">
                        <div class="quantity-selector">
                            <button class="quantity-btn" onclick="changeQuantity(this, -1)">-</button>
                            <input type="number" class="quantity-input" value="2" min="1" readonly>
                            <button class="quantity-btn" onclick="changeQuantity(this, 1)">+</button>
                        </div>
                        <div class="item-total">3,000ì›</div>
                    </div>
                </div>
            </div>

            <!-- ì¼ë°˜ìƒí’ˆ -->
            <div class="cart-item">
                <div class="item-image">ğŸ“¦ ì´ë¯¸ì§€</div>
                <div class="item-details">
                    <div class="item-header">
                        <div class="item-name">ì½”ì¹´ì½œë¼ 355ml</div>
                        <button class="item-delete" onclick="removeItem(this)">Ã—</button>
                    </div>
                    <div class="item-price-info">
                        <span class="item-price">1,800ì›</span>
                    </div>
                    <div class="quantity-controls">
                        <div class="quantity-selector">
                            <button class="quantity-btn" onclick="changeQuantity(this, -1)">-</button>
                            <input type="number" class="quantity-input" value="1" min="1" readonly>
                            <button class="quantity-btn" onclick="changeQuantity(this, 1)">+</button>
                        </div>
                        <div class="item-total">1,800ì›</div>
                    </div>
                </div>
            </div>

            <!-- í• ì¸ìƒí’ˆ -->
            <div class="cart-item">
                <div class="item-image">ğŸ“¦ ì´ë¯¸ì§€</div>
                <div class="item-details">
                    <div class="item-header">
                        <div class="item-name">ì‹ ë¼ë©´ 120g</div>
                        <button class="item-delete" onclick="removeItem(this)">Ã—</button>
                    </div>
                    <div class="item-price-info">
                        <span class="item-price">980ì›</span>
                        <span class="item-original-price">1,400ì›</span>
                        <span class="item-badge" style="background: #ffeaa7; color: #d63031;">30%</span>
                    </div>
                    <div class="quantity-controls">
                        <div class="quantity-selector">
                            <button class="quantity-btn" onclick="changeQuantity(this, -1)">-</button>
                            <input type="number" class="quantity-input" value="3" min="1" readonly>
                            <button class="quantity-btn" onclick="changeQuantity(this, 1)">+</button>
                        </div>
                        <div class="item-total">2,940ì›</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- í”½ì—… ì˜µì…˜ -->
        <div class="pickup-options">
            <h3 style="margin-bottom: 16px; font-size: 16px; color: #495057;">ğŸ“¦ í”½ì—… ë°©ë²•</h3>
            <div class="pickup-option selected">
                <input type="radio" name="pickup" value="store" checked>
                <div>
                    <div style="font-weight: bold; color: #495057;">ë§¤ì¥ í”½ì—…</div>
                    <div style="font-size: 12px; color: #6c757d;">ë§¤ì¥ì—ì„œ ì§ì ‘ í”½ì—… (ë¬´ë£Œ)</div>
                </div>
            </div>
            <div class="pickup-option">
                <input type="radio" name="pickup" value="delivery">
                <div>
                    <div style="font-weight: bold; color: #495057;">ë°°ë‹¬ ì„œë¹„ìŠ¤</div>
                    <div style="font-size: 12px; color: #6c757d;">30ë¶„ ë‚´ ë°°ë‹¬ (ë°°ë‹¬ë¹„ 2,000ì›)</div>
                </div>
            </div>
        </div>

        <!-- ì£¼ë¬¸ ìš”ì•½ -->
        <div class="cart-summary">
            <h3 style="margin-bottom: 16px; font-size: 16px; color: #495057;">ğŸ’° ì£¼ë¬¸ ìš”ì•½</h3>
            <div class="summary-row">
                <span>ìƒí’ˆ ì´ì•¡</span>
                <span id="subtotal">7,740ì›</span>
            </div>
            <div class="summary-row">
                <span>í• ì¸ ê¸ˆì•¡</span>
                <span style="color: #dc3545;" id="discount">-1,860ì›</span>
            </div>
            <div class="summary-row">
                <span>ë°°ë‹¬ë¹„</span>
                <span id="delivery-fee">0ì›</span>
            </div>
            <div class="summary-row total">
                <span>ìµœì¢… ê²°ì œ ê¸ˆì•¡</span>
                <span id="total">5,880ì›</span>
            </div>
        </div>

        <!-- ë¹ˆ ì¥ë°”êµ¬ë‹ˆ (ìˆ¨ê²¨ì§) -->
        <div id="empty-cart" class="empty-cart" style="display: none;">
            <div class="empty-cart-icon">ğŸ›’</div>
            <h3 style="margin-bottom: 8px; color: #495057;">ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤</h3>
            <p style="margin-bottom: 20px;">ìƒí’ˆì„ ë‹´ì•„ë³´ì„¸ìš”!</p>
            <a href="product-catalog.html" class="wireframe-button primary" style="padding: 12px 24px;">ì‡¼í•‘í•˜ëŸ¬ ê°€ê¸°</a>
        </div>
    </div>

    <!-- ê²°ì œ ë²„íŠ¼ -->
    <div class="checkout-section">
        <button class="checkout-button" onclick="goToCheckout()">
            ì£¼ë¬¸í•˜ê¸° (<span id="checkout-total">5,880ì›</span>)
        </button>
    </div>

    <!-- ì™€ì´ì–´í”„ë ˆì„ ë„¤ë¹„ê²Œì´ì…˜ -->
    <div style="position: fixed; top: 50%; right: 20px; transform: translateY(-50%); background: rgba(0,0,0,0.8); border-radius: 25px; padding: 8px;">
        <a href="../index.html" style="color: white; text-decoration: none; font-size: 20px; display: block; padding: 8px;">ğŸ </a>
    </div>

    <script>
        let cartItems = document.querySelectorAll('.cart-item');
        
        // ìˆ˜ëŸ‰ ë³€ê²½
        function changeQuantity(button, change) {
            const quantityInput = button.parentElement.querySelector('.quantity-input');
            const currentQuantity = parseInt(quantityInput.value);
            const newQuantity = Math.max(1, currentQuantity + change);
            
            quantityInput.value = newQuantity;
            
            // ì•„ì´í…œ ì´ì•¡ ì—…ë°ì´íŠ¸
            updateItemTotal(button);
            updateCartSummary();
        }
        
        // ì•„ì´í…œ ì´ì•¡ ì—…ë°ì´íŠ¸
        function updateItemTotal(button) {
            const cartItem = button.closest('.cart-item');
            const quantity = parseInt(cartItem.querySelector('.quantity-input').value);
            const priceText = cartItem.querySelector('.item-price').textContent;
            const price = parseInt(priceText.replace(/[^0-9]/g, ''));
            const total = quantity * price;
            
            cartItem.querySelector('.item-total').textContent = total.toLocaleString() + 'ì›';
        }
        
        // ì•„ì´í…œ ì‚­ì œ
        function removeItem(button) {
            const cartItem = button.closest('.cart-item');
            const itemName = cartItem.querySelector('.item-name').textContent;
            
            if (confirm(`"${itemName}"ì„(ë¥¼) ì¥ë°”êµ¬ë‹ˆì—ì„œ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                cartItem.remove();
                updateCartSummary();
                
                // ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì—ˆëŠ”ì§€ í™•ì¸
                if (document.querySelectorAll('.cart-item').length === 0) {
                    showEmptyCart();
                }
            }
        }
        
        // ì „ì²´ ì‚­ì œ
        function clearCart() {
            if (confirm('ì¥ë°”êµ¬ë‹ˆë¥¼ ë¹„ìš°ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                document.querySelectorAll('.cart-item').forEach(item => item.remove());
                showEmptyCart();
            }
        }
        
        // ë¹ˆ ì¥ë°”êµ¬ë‹ˆ í‘œì‹œ
        function showEmptyCart() {
            document.getElementById('cart-items').style.display = 'none';
            document.querySelector('.pickup-options').style.display = 'none';
            document.querySelector('.cart-summary').style.display = 'none';
            document.querySelector('.checkout-section').style.display = 'none';
            document.getElementById('empty-cart').style.display = 'block';
        }
        
        // ì¥ë°”êµ¬ë‹ˆ ìš”ì•½ ì—…ë°ì´íŠ¸
        function updateCartSummary() {
            const items = document.querySelectorAll('.cart-item');
            let subtotal = 0;
            let discount = 0;
            
            items.forEach(item => {
                const quantity = parseInt(item.querySelector('.quantity-input').value);
                const priceText = item.querySelector('.item-price').textContent;
                const price = parseInt(priceText.replace(/[^0-9]/g, ''));
                const originalPriceElement = item.querySelector('.item-original-price');
                
                subtotal += quantity * price;
                
                if (originalPriceElement) {
                    const originalPrice = parseInt(originalPriceElement.textContent.replace(/[^0-9]/g, ''));
                    discount += quantity * (originalPrice - price);
                }
            });
            
            const deliveryFee = document.querySelector('input[name="pickup"]:checked').value === 'delivery' ? 2000 : 0;
            const total = subtotal + deliveryFee;
            
            document.getElementById('subtotal').textContent = (subtotal + discount).toLocaleString() + 'ì›';
            document.getElementById('discount').textContent = discount > 0 ? '-' + discount.toLocaleString() + 'ì›' : '0ì›';
            document.getElementById('delivery-fee').textContent = deliveryFee.toLocaleString() + 'ì›';
            document.getElementById('total').textContent = total.toLocaleString() + 'ì›';
            document.getElementById('checkout-total').textContent = total.toLocaleString() + 'ì›';
        }
        
        // í”½ì—… ë°©ë²• ë³€ê²½
        document.querySelectorAll('input[name="pickup"]').forEach(radio => {
            radio.addEventListener('change', function() {
                document.querySelectorAll('.pickup-option').forEach(option => {
                    option.classList.remove('selected');
                });
                this.closest('.pickup-option').classList.add('selected');
                updateCartSummary();
            });
        });
        
        // ê²°ì œ í˜ì´ì§€ë¡œ ì´ë™
        function goToCheckout() {
            const selectedPickup = document.querySelector('input[name="pickup"]:checked').value;
            const total = document.getElementById('total').textContent;
            
            alert(`ì£¼ë¬¸ ì •ë³´:\\ní”½ì—… ë°©ë²•: ${selectedPickup === 'store' ? 'ë§¤ì¥ í”½ì—…' : 'ë°°ë‹¬ ì„œë¹„ìŠ¤'}\\nì´ ê¸ˆì•¡: ${total}\\n\\nê²°ì œ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.`);
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸° ê³„ì‚°
        document.addEventListener('DOMContentLoaded', function() {
            updateCartSummary();
        });
    </script>
</body>
</html>